{% extends 'layout.twig' %}


{% block content %}
    <section id="books" class="row">
        {% if books %}
            {% for book in books %}
                <article id="book-{{ book.book_id }}" class="book col-xxs-12 col-xs-10 col-xs-offset-1 col-sm-6 col-sm-offset-0 col-md-4 col-lg-3">
                    <div class="well book-wrapper">
                        <p><img src="files/covers/{{ book.book_id }}.{{ book.cover_extension }}" alt="{{ book.book_title }}, uploaded by {{ book.username }} in {{ book.topic_title }}" title="{{ book.book_title }}, uploaded by {{ book.username }} in {{ book.topic_title }}" class="book-cover img-responsive" /></p>
                        <ul class="text-center list-unstyled list-inline book-meta">
                            <li class="book-meta-uploader"><span class="glyphicon glyphicon-user" aria-hidden="true"></span>{{ book.username }}</li>
                            <li class="book-meta-topic"><span class="glyphicon glyphicon-bullhorn" aria-hidden="true"></span> <a href="index.php?topic={{ book.topic_id }}">{{ book.topic_title }}</a></li>
                            <li class="book-meta-numpages"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> {{ book.numpages }}</li>
                        </ul>
                    </div>
                </article>
            {% endfor %}
        {% else %}
            <p class="well">This topic contains no books</p>
        {% endif %}
        <!-- image modal ((ab)use bootstrap for lightbox) -->
        <div class="modal modal-wide fade" id="img-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                        <h4 class="modal-title" id="myModalLabel">&hellip;</h4>
                    </div>
                    <div class="modal-body text-center">
                        <img src="" alt="" title="" style="max-width: 100%;" />
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </section>
{% endblock %}


{% block scripts %}
    <script src="js/jquery-2.1.0.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/index.js"></script>
{% endblock %}